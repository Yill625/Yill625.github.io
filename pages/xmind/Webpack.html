<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>WebPack | 亮亮</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/learn.svg">
    <meta name="description" content="易亮亮前端文章记录">
    <meta name="keywords" content="易亮亮的博客,易亮亮,亮亮,blog,,博客,前端">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="preload" href="/assets/css/0.styles.70c409ff.css" as="style"><link rel="preload" href="/assets/js/app.927f4539.js" as="script"><link rel="preload" href="/assets/js/2.c84a9f48.js" as="script"><link rel="preload" href="/assets/js/179.ae8b0670.js" as="script"><link rel="prefetch" href="/assets/js/10.eb0a33b1.js"><link rel="prefetch" href="/assets/js/100.e1d56ef1.js"><link rel="prefetch" href="/assets/js/101.024d4823.js"><link rel="prefetch" href="/assets/js/102.36e1fd39.js"><link rel="prefetch" href="/assets/js/103.d33bedee.js"><link rel="prefetch" href="/assets/js/104.82d87d0c.js"><link rel="prefetch" href="/assets/js/105.0d8699fb.js"><link rel="prefetch" href="/assets/js/106.497834b9.js"><link rel="prefetch" href="/assets/js/107.a97985cd.js"><link rel="prefetch" href="/assets/js/108.0883c487.js"><link rel="prefetch" href="/assets/js/109.d65677d6.js"><link rel="prefetch" href="/assets/js/11.f1f00ec3.js"><link rel="prefetch" href="/assets/js/110.fe177146.js"><link rel="prefetch" href="/assets/js/111.b4c33f6c.js"><link rel="prefetch" href="/assets/js/112.b1357c95.js"><link rel="prefetch" href="/assets/js/113.719d244b.js"><link rel="prefetch" href="/assets/js/114.60e7b2fc.js"><link rel="prefetch" href="/assets/js/115.7c8eeae5.js"><link rel="prefetch" href="/assets/js/116.e5ac0a29.js"><link rel="prefetch" href="/assets/js/117.500db8c6.js"><link rel="prefetch" href="/assets/js/118.93880f16.js"><link rel="prefetch" href="/assets/js/119.ed86bda1.js"><link rel="prefetch" href="/assets/js/12.56ed9763.js"><link rel="prefetch" href="/assets/js/120.54628620.js"><link rel="prefetch" href="/assets/js/121.bdbdf9b1.js"><link rel="prefetch" href="/assets/js/122.8cc670e6.js"><link rel="prefetch" href="/assets/js/123.02f14324.js"><link rel="prefetch" href="/assets/js/124.a2481399.js"><link rel="prefetch" href="/assets/js/125.6cc66e08.js"><link rel="prefetch" href="/assets/js/126.f0ac7929.js"><link rel="prefetch" href="/assets/js/127.94f044a6.js"><link rel="prefetch" href="/assets/js/128.c0117953.js"><link rel="prefetch" href="/assets/js/129.02c2417c.js"><link rel="prefetch" href="/assets/js/13.f8abfa44.js"><link rel="prefetch" href="/assets/js/130.0b3b6551.js"><link rel="prefetch" href="/assets/js/131.72fb1358.js"><link rel="prefetch" href="/assets/js/132.a49e3231.js"><link rel="prefetch" href="/assets/js/133.0f97f3ff.js"><link rel="prefetch" href="/assets/js/134.321bf4b4.js"><link rel="prefetch" href="/assets/js/135.a51d69e9.js"><link rel="prefetch" href="/assets/js/136.64e31e71.js"><link rel="prefetch" href="/assets/js/137.e03a2a14.js"><link rel="prefetch" href="/assets/js/138.59c41d5d.js"><link rel="prefetch" href="/assets/js/139.6d6c6139.js"><link rel="prefetch" href="/assets/js/14.1090e00f.js"><link rel="prefetch" href="/assets/js/140.26fce851.js"><link rel="prefetch" href="/assets/js/141.cdbde02e.js"><link rel="prefetch" href="/assets/js/142.e68f649e.js"><link rel="prefetch" href="/assets/js/143.d083d05f.js"><link rel="prefetch" href="/assets/js/144.02117a17.js"><link rel="prefetch" href="/assets/js/145.bce38a89.js"><link rel="prefetch" href="/assets/js/146.4a51ca61.js"><link rel="prefetch" href="/assets/js/147.71ba05f8.js"><link rel="prefetch" href="/assets/js/148.d56d8c0c.js"><link rel="prefetch" href="/assets/js/149.af3be915.js"><link rel="prefetch" href="/assets/js/15.9e283874.js"><link rel="prefetch" href="/assets/js/150.568c169f.js"><link rel="prefetch" href="/assets/js/151.da760c7b.js"><link rel="prefetch" href="/assets/js/152.f0bcd6cb.js"><link rel="prefetch" href="/assets/js/153.c9f0c7bb.js"><link rel="prefetch" href="/assets/js/154.cd28be3d.js"><link rel="prefetch" href="/assets/js/155.baafb041.js"><link rel="prefetch" href="/assets/js/156.3c34f1a5.js"><link rel="prefetch" href="/assets/js/157.345717ff.js"><link rel="prefetch" href="/assets/js/158.822bce6e.js"><link rel="prefetch" href="/assets/js/159.59ba5c58.js"><link rel="prefetch" href="/assets/js/16.bfca1832.js"><link rel="prefetch" href="/assets/js/160.d38bd1af.js"><link rel="prefetch" href="/assets/js/161.298c36f9.js"><link rel="prefetch" href="/assets/js/162.2a51598b.js"><link rel="prefetch" href="/assets/js/163.7040c5fe.js"><link rel="prefetch" href="/assets/js/164.6a7ee807.js"><link rel="prefetch" href="/assets/js/165.d82df432.js"><link rel="prefetch" href="/assets/js/166.bcc2d76e.js"><link rel="prefetch" href="/assets/js/167.93d8cf91.js"><link rel="prefetch" href="/assets/js/168.62f1bc9e.js"><link rel="prefetch" href="/assets/js/169.e6f102ca.js"><link rel="prefetch" href="/assets/js/17.187d10da.js"><link rel="prefetch" href="/assets/js/170.08f846b8.js"><link rel="prefetch" href="/assets/js/171.380736b0.js"><link rel="prefetch" href="/assets/js/172.b4f8d75d.js"><link rel="prefetch" href="/assets/js/173.6a387f78.js"><link rel="prefetch" href="/assets/js/174.63b38866.js"><link rel="prefetch" href="/assets/js/175.3dfb7577.js"><link rel="prefetch" href="/assets/js/176.1bf3f6ab.js"><link rel="prefetch" href="/assets/js/177.3b840fac.js"><link rel="prefetch" href="/assets/js/178.1859838a.js"><link rel="prefetch" href="/assets/js/18.1d3ae1e0.js"><link rel="prefetch" href="/assets/js/180.d1907a31.js"><link rel="prefetch" href="/assets/js/19.b1b11f84.js"><link rel="prefetch" href="/assets/js/20.6c37c162.js"><link rel="prefetch" href="/assets/js/21.5228f8e1.js"><link rel="prefetch" href="/assets/js/22.3c4547d4.js"><link rel="prefetch" href="/assets/js/23.67f39cef.js"><link rel="prefetch" href="/assets/js/24.2c3bb5f8.js"><link rel="prefetch" href="/assets/js/25.9cf5bc4a.js"><link rel="prefetch" href="/assets/js/26.db6567a3.js"><link rel="prefetch" href="/assets/js/27.d8c2fc5b.js"><link rel="prefetch" href="/assets/js/28.93dedd08.js"><link rel="prefetch" href="/assets/js/29.ddeb43d9.js"><link rel="prefetch" href="/assets/js/3.8ce6dbcf.js"><link rel="prefetch" href="/assets/js/30.c4ab9f38.js"><link rel="prefetch" href="/assets/js/31.b0822bb3.js"><link rel="prefetch" href="/assets/js/32.76abedef.js"><link rel="prefetch" href="/assets/js/33.b49fa513.js"><link rel="prefetch" href="/assets/js/34.d72c3309.js"><link rel="prefetch" href="/assets/js/35.92b57a66.js"><link rel="prefetch" href="/assets/js/36.d30ef8c0.js"><link rel="prefetch" href="/assets/js/37.c8cce37d.js"><link rel="prefetch" href="/assets/js/38.b5876ecf.js"><link rel="prefetch" href="/assets/js/39.77d6d7ee.js"><link rel="prefetch" href="/assets/js/4.7de92415.js"><link rel="prefetch" href="/assets/js/40.d03608df.js"><link rel="prefetch" href="/assets/js/41.96f32b4d.js"><link rel="prefetch" href="/assets/js/42.3d3da6fa.js"><link rel="prefetch" href="/assets/js/43.a081a0c7.js"><link rel="prefetch" href="/assets/js/44.19983942.js"><link rel="prefetch" href="/assets/js/45.44d21e76.js"><link rel="prefetch" href="/assets/js/46.96bb8c4e.js"><link rel="prefetch" href="/assets/js/47.96035db7.js"><link rel="prefetch" href="/assets/js/48.3f4399e6.js"><link rel="prefetch" href="/assets/js/49.b357c3c2.js"><link rel="prefetch" href="/assets/js/5.da8f20de.js"><link rel="prefetch" href="/assets/js/50.deec3c99.js"><link rel="prefetch" href="/assets/js/51.b0c9c24e.js"><link rel="prefetch" href="/assets/js/52.459ae9fb.js"><link rel="prefetch" href="/assets/js/53.97410df8.js"><link rel="prefetch" href="/assets/js/54.3a6ad028.js"><link rel="prefetch" href="/assets/js/55.eae10b43.js"><link rel="prefetch" href="/assets/js/56.c38115d8.js"><link rel="prefetch" href="/assets/js/57.0d253444.js"><link rel="prefetch" href="/assets/js/58.45d5a84a.js"><link rel="prefetch" href="/assets/js/59.a95980bc.js"><link rel="prefetch" href="/assets/js/6.323ae50b.js"><link rel="prefetch" href="/assets/js/60.d58975b2.js"><link rel="prefetch" href="/assets/js/61.86d3e494.js"><link rel="prefetch" href="/assets/js/62.850e2c10.js"><link rel="prefetch" href="/assets/js/63.9301367e.js"><link rel="prefetch" href="/assets/js/64.e50abc5d.js"><link rel="prefetch" href="/assets/js/65.af8d47cd.js"><link rel="prefetch" href="/assets/js/66.5ab6fee2.js"><link rel="prefetch" href="/assets/js/67.4a231cd5.js"><link rel="prefetch" href="/assets/js/68.00a267c5.js"><link rel="prefetch" href="/assets/js/69.82140bd5.js"><link rel="prefetch" href="/assets/js/7.c539c6e2.js"><link rel="prefetch" href="/assets/js/70.a2269691.js"><link rel="prefetch" href="/assets/js/71.77c08220.js"><link rel="prefetch" href="/assets/js/72.d0b636e9.js"><link rel="prefetch" href="/assets/js/73.c40339fc.js"><link rel="prefetch" href="/assets/js/74.7097cdaa.js"><link rel="prefetch" href="/assets/js/75.c4cada04.js"><link rel="prefetch" href="/assets/js/76.952b04c1.js"><link rel="prefetch" href="/assets/js/77.e4256880.js"><link rel="prefetch" href="/assets/js/78.838126e0.js"><link rel="prefetch" href="/assets/js/79.896d224e.js"><link rel="prefetch" href="/assets/js/8.336f7a9b.js"><link rel="prefetch" href="/assets/js/80.0972ab09.js"><link rel="prefetch" href="/assets/js/81.67c86362.js"><link rel="prefetch" href="/assets/js/82.f4726785.js"><link rel="prefetch" href="/assets/js/83.87dc4462.js"><link rel="prefetch" href="/assets/js/84.a2b0db00.js"><link rel="prefetch" href="/assets/js/85.7b497cc9.js"><link rel="prefetch" href="/assets/js/86.ea98e5db.js"><link rel="prefetch" href="/assets/js/87.ac616b2d.js"><link rel="prefetch" href="/assets/js/88.11b18acc.js"><link rel="prefetch" href="/assets/js/89.7e01912c.js"><link rel="prefetch" href="/assets/js/9.544a5a67.js"><link rel="prefetch" href="/assets/js/90.76d8500c.js"><link rel="prefetch" href="/assets/js/91.c3d95b52.js"><link rel="prefetch" href="/assets/js/92.47340848.js"><link rel="prefetch" href="/assets/js/93.e78e3a68.js"><link rel="prefetch" href="/assets/js/94.036dfdc4.js"><link rel="prefetch" href="/assets/js/95.f989e21a.js"><link rel="prefetch" href="/assets/js/96.8a877ad1.js"><link rel="prefetch" href="/assets/js/97.96d0ac93.js"><link rel="prefetch" href="/assets/js/98.6e8fc174.js"><link rel="prefetch" href="/assets/js/99.79347091.js">
    <link rel="stylesheet" href="/assets/css/0.styles.70c409ff.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">亮亮</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/pages/algorithm/index.html" class="nav-link">
  🎯算法
</a></div><div class="nav-item"><a href="/pages/book/index.html" class="nav-link">
  📚阅读
</a></div><div class="nav-item"><a href="/pages/interview/index.html" class="nav-link">
  🥳前端
</a></div><div class="nav-item"><a href="https://github.com/Yill625" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/pages/algorithm/index.html" class="nav-link">
  🎯算法
</a></div><div class="nav-item"><a href="/pages/book/index.html" class="nav-link">
  📚阅读
</a></div><div class="nav-item"><a href="/pages/interview/index.html" class="nav-link">
  🥳前端
</a></div><div class="nav-item"><a href="https://github.com/Yill625" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Webpack</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/xmind/Webpack.html" aria-current="page" class="active sidebar-link">Webpack</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#基础" class="sidebar-link">基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#entry-sring" class="sidebar-link">entry :sring | []</a></li><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#output" class="sidebar-link">output</a></li><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#loaders" class="sidebar-link">loaders</a></li><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#plugins" class="sidebar-link">plugins</a></li><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#devltool" class="sidebar-link">devltool</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#模块" class="sidebar-link">模块</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#module" class="sidebar-link">module</a></li><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#chunk" class="sidebar-link">chunk</a></li><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#bundle" class="sidebar-link">bundle</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#文件指纹策略" class="sidebar-link">文件指纹策略</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#文件指纹类型" class="sidebar-link">文件指纹类型</a></li><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#文件指纹策略-2" class="sidebar-link">文件指纹策略</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#性能优化" class="sidebar-link">性能优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/xmind/Webpack.html#性能分析" class="sidebar-link">性能分析</a></li></ul></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="webpack"><a href="#webpack" class="header-anchor">#</a> WebPack</h1> <h2 id="基础"><a href="#基础" class="header-anchor">#</a> 基础</h2> <h3 id="entry-sring"><a href="#entry-sring" class="header-anchor">#</a> entry :sring | []</h3> <blockquote><p>入口起点，指示 Webpack 应该从哪个模块开始，来作为构建内部依赖图的开始。进入入口起点后，Webpack 会找出有哪些模块和库的入口起点直接或间接依赖的，每个依赖想随即被处理，最后输出到称之为 bundles 的文件中</p></blockquote> <p>单入口 : string
多入口 : [] 需要多个独立分离的依赖</p> <h3 id="output"><a href="#output" class="header-anchor">#</a> output</h3> <blockquote><p>概念: output 属性告诉 webpack 在哪里输出它所创建的 bundles，以及如何命名这些文件，默认值为 ./dist。基本上，整个应用程序结构，都会被编译到你指定的输出路径的文件夹中。你可以通过在配置中指定一个 output 字段，来配置这些处理过程</p></blockquote> <ul><li>filename: 文件名</li> <li>chunkFilename</li> <li>path: path 目标输出目录的绝对路径</li> <li>publicPath：
<ul><li>webpack 提供一个非常有用的配置，该配置能帮助你为项目中的所有资源指定一个基础路径，它被称为公共路径(publicPath)。</li> <li>静态资源最终访问路径 = output.publicPath + 资源 loader 或插件等配置路径 举个例子 🌰：publicPath: &quot;https://cdn.example.com/assets/&quot;
前端打包的出来的文件 📃 实际就是静态资源</li></ul></li> <li>library: library 指定的就是你是用 require 时的模块名</li> <li>librayTarget: 配置如何暴露 library 的方式</li></ul> <h3 id="loaders"><a href="#loaders" class="header-anchor">#</a> loaders</h3> <blockquote><p>我们在前端构建中会遇见需要使用各式各样的文件，例如 css 代码，图片，模板代码等。webpack 中提供一种处理多种文件格式的机制，便是使用 loader。我们可以把 loader 理解为是一个转换器，负责把某种文件格式的内容转换成 webpack 可以支持打包的模块。（注意始终理解一个概念就是 babel 是处理模块 module 的,你引入了一个模块资源就要用对应的 loader 去处理）</p></blockquote> <blockquote><p>举个例子 🌰：举个例子，在没有添加额外插件的情况下，webpack 会默认把所有依赖打包成 js 文件，如果入口文件依赖一个 .hbs 的模板文件以及一个 .css 的样式文件，那么我们需要 handlebars-loader 来处理 .hbs 文件，需要 css-loader 来处理 .css 文件（这里其实还需要 style-loader，后续详解），最终把不同格式的文件都解析成 js 代码，以便打包后在浏览器中运行。</p></blockquote> <h4 id="常用的-loader"><a href="#常用的-loader" class="header-anchor">#</a> 常用的 loader</h4> <ul><li>css-loader</li> <li>less-loader</li> <li>scss-loader</li> <li>file-loader</li> <li>babel-loader</li> <li>ts-loader</li> <li>eslint-loader</li> <li>thread-loader</li></ul> <h3 id="plugins"><a href="#plugins" class="header-anchor">#</a> plugins</h3> <blockquote><p>loader 被用于转换某些类型的模块（与模块挂钩），而插件则可以用于执行范围更广的任务。插件的范围包括，从打包优化和压缩，一直到重新定义环境中的变量。插件接口功能极其强大，可以用来处理各种各样的任务。</p></blockquote> <h4 id="常用的-plugin"><a href="#常用的-plugin" class="header-anchor">#</a> 常用的 plugin</h4> <ul><li>HotModuleReplacementPlugin
模块热更新插件。Hot-Module-Replacement 的热更新是依赖于 webpack-dev-server，后者是在打包文件改变时更新打包文件或者 reload 刷新整个页面，HRM 是只更新修改的部分</li> <li>HtmlWebpackPlugin
生成 html 文件。将 webpack 中 entry 配置的相关入口 chunk 和 extract-text-webpack-plugin 抽取的 css 样式 插入到该插件提供的 template 或者 templateContent 配置项指定的内容基础上生成一个 html 文件，具体插入方式是将样式 link 插入到 head 元素中，script 插入到 head 或者 body 中。</li> <li>clean-webpack-plugin
clean-webpack-plugin 用于在打包前清理上一次项目生成的 bundle 文件，它会根据 output.path 自动清理文件夹；这个插件在生产环境用的频率非常高，因为生产环境经常会通过 hash 生成很多 bundle 文件，如果不进行清理的话每次都会生成新的，导致文件夹非常庞大。</li> <li>mini-css-extract-plugin
<ul><li>将 CSS 提取为独立的文件的插件，对每个包含 css 的 js 文件都会创建一个 CSS 文件，支持按需加载 css 和 sourceMap</li> <li>这个插件应该只用在生产环境配置，并且在 loaders 链中不使用 style-loader, 而且这个插件暂时不支持 HMR</li></ul></li> <li>purifycss-webpack
<ul><li>有时候我们 css 写得多了或者重复了，这就造成了多余的代码，我们希望在生产环境进行去除。</li></ul></li> <li>optimize-css-assets-webpack-plugin
<ul><li>我们希望减小 css 打包后的体积（进行压缩），可以用到 optimize-css-assets-webpack-plugin。</li></ul></li></ul> <h3 id="devltool"><a href="#devltool" class="header-anchor">#</a> devltool</h3> <blockquote><p>指定代码的 source map 生成方式</p></blockquote> <h2 id="模块"><a href="#模块" class="header-anchor">#</a> 模块</h2> <h3 id="module"><a href="#module" class="header-anchor">#</a> module</h3> <p>对于一份同逻辑的代码，当我们手写下一个一个的文件，它们无论是 ESM 还是 commonJS 或是 AMD，他们都是 module</p> <h3 id="chunk"><a href="#chunk" class="header-anchor">#</a> chunk</h3> <p>一般来说一个 chunk 对应一个 bundle，比如上图中的 utils.js -&gt; chunks 1 -&gt; utils.bundle.js；但也有例外，比如说上图中，我就用 MiniCssExtractPlugin 从 chunks 0 中抽离出了 index.bundle.css 文件。</p> <h3 id="bundle"><a href="#bundle" class="header-anchor">#</a> bundle</h3> <p>webpack 处理好 chunk 文件后，最后会输出 bundle 文件，这个 bundle 文件包含了经过加载和编译的最终源文件，所以它可以直接在浏览器中运行。</p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>module，chunk 和 bundle 其实就是同一份逻辑代码在不同转换场景下的取了三个名字
我们直接写出来的是 module，webpack 处理时是 chunk，最后生成浏览器可以直接运行的 bundle</p></div> <h2 id="文件指纹策略"><a href="#文件指纹策略" class="header-anchor">#</a> 文件指纹策略</h2> <blockquote><p>打包后输出的文件名后缀，用于版本管理</p></blockquote> <h3 id="文件指纹类型"><a href="#文件指纹类型" class="header-anchor">#</a> 文件指纹类型</h3> <ol><li><p>hash: 和整个项目的构建相关，只要项目文件有修改，整个项目的构建 hash 值就会改变</p></li> <li><p>chunkhash: 和 Webpack 打包的 chunk 有关，不用的 entry 会生成不用的 chunkhash 值</p> <blockquote><p>当我们写的 module 源文件传到 webpack 进行打包时，webpack 会根据文件引用关系生成 chunk 文件(存在内存中)，webpack 会对这个 chunk 文件进行一些操作，所以我们根据 entry 还有模块之间的依赖关系来判断模块是否处于同一个 chunk</p></blockquote></li> <li><p>contenthash：根据文件内容来定义 hash，文件内容不变，contenthash 不变</p> <blockquote><p>它的出现主要是为了解决，让 css 文件不受 js 文件的影响。比如 foo.css 被 foo.js 引用了，所以它们共用相同的 chunkhash 值。但这样子是有问题的，如果 foo.js 修改了代码，css 文件就算内容没有任何改变，由于是该模块的 hash 发生了改变，其 css 文件的 hash 也会随之改变</p></blockquote></li></ol> <h3 id="文件指纹策略-2"><a href="#文件指纹策略-2" class="header-anchor">#</a> 文件指纹策略</h3> <ul><li>js、css 文件的指纹策略</li></ul> <ol><li>js
如果采用 contenthash 根据 JS 文件内容来生成 hash,但是一旦样式修改了，css 文件名会变化，此时 JS 文件应该也要变化，重新引入正确 ✅ 的文件才对</li> <li>css
当使用 mini-css-extract-plugin 插件抽离 css 文件时候，该插件可以获取到 webapck 中 hash 以及其该 chunk 下的 hash，当然改插件还可以自己根据文件内容生成 hash 也就是 contenthash</li> <li>图片
当我们使用 file-loader 处理图片等资源时候，其选项 contenthash 以及 hash 选项是自己内部生成的，❗️ 不采用 webpack 中的 hash</li></ol> <h2 id="性能优化"><a href="#性能优化" class="header-anchor">#</a> 性能优化</h2> <h3 id="性能分析"><a href="#性能分析" class="header-anchor">#</a> 性能分析</h3> <h4 id="体积分析"><a href="#体积分析" class="header-anchor">#</a> 体积分析</h4> <ol><li>初级分析 通过官方提供的 stat.json 文件帮助我们分析打包结果，stat.json 文件生成命令 <code>webpack --profile --json &gt; stats.json</code></li> <li>第三方打包工具 webpack-bundle-analyzer 是打包分析神器 webpack-bundle-analyzer 其底层也是依赖 stat.json 文件的，通过对 stat.json 的分析，得出最后的分析页面</li></ol> <h4 id="速度分析"><a href="#速度分析" class="header-anchor">#</a> 速度分析</h4> <p>speed-measure-webpack-plugin 这个插件帮助我们分析整个打包的总耗时，以及每一个 loader 和每一个 plugins 构建所耗费的时间，从而帮助我们快速定位到可以优化 Webpack 的配置</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">11/17/2020, 8:41:54 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/pages/xmind/net.html" class="prev">
        网络知识
      </a></span> <span class="next"><a href="/pages/xmind/Vue.html">
        Vue
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.927f4539.js" defer></script><script src="/assets/js/2.c84a9f48.js" defer></script><script src="/assets/js/179.ae8b0670.js" defer></script>
  </body>
</html>
